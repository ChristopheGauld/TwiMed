library(RISmed)
search_topic <- 'autis*'
search_query <- EUtilsSummary(search_topic, retmax=100, mindate=2020, maxdate=2020)
View(search_query)
records<- EUtilsGet(search_query)
pubmed_data <- data.frame('Title'=ArticleTitle(records),'Abstract'=AbstractText(records))
pubmed_data$Abstract <- as.character(pubmed_data$Abstract)
pubmed_data$Abstract <- gsub(",", " ", pubmed_data$Abstract, fixed = TRUE)
str(pubmed_data)
library(tidyr)
library(dplyr)
library(tidytext)
library(dplyr)
library(rtweet)
### Strip
pubmed_data$stripped_text <- gsub("http.*","",  pubmed_data)
library(RISmed)
search_topic <- 'autis*'
search_query <- EUtilsSummary(search_topic, retmax=100, mindate=2020, maxdate=2020)
View(search_query)
records<- EUtilsGet(search_query)
pubmed_data <- data.frame('Title'=ArticleTitle(records),'Abstract'=AbstractText(records))
install.packages(c("rtweet", "tidytext"))
pubmed_data$Abstract <- as.character(pubmed_data$Abstract)
pubmed_data$Abstract <- gsub(",", " ", pubmed_data$Abstract, fixed = TRUE)
str(pubmed_data)
library(tidyr)
library(dplyr)
library(tidytext)
library(dplyr)
library(rtweet)
### Strip
pubmed_data$stripped_text <- gsub("http.*","",  pubmed_data)
words <- pubmed_data %>%
select(stripped_text) %>%
unnest_tokens(word, stripped_text)
## stop words
data("stop_words")
stop_words = rbind (stop_words,"autism","amp", "covid")
words <- words %>%
anti_join(stop_words)
####### et pour le graph : inspiré de run_twitter_network_igraph.R
autism_pubmed_clean <- pubmed_data %>%
dplyr::select(stripped_text) %>%     unnest_tokens(word, stripped_text)
autism_tweets_paired_words <- autism_tweets_clean %>%
dplyr::select(stripped_text) %>%
unnest_tokens(paired_words, stripped_text, token = "ngrams", n = 2)
####### et pour le graph : inspiré de run_twitter_network_igraph.R
autism_pubmed_clean <- pubmed_data %>%
dplyr::select(stripped_text) %>%     unnest_tokens(word, stripped_text)
autism_tweets_paired_words <- autism_tweets_clean %>%
dplyr::select(stripped_text) %>%
unnest_tokens(paired_words, stripped_text, token = "ngrams", n = 2)
autism_articles_paired_words <- autism_pubmed_clean %>%
dplyr::select(stripped_text) %>%
unnest_tokens(paired_words, stripped_text, token = "ngrams", n = 2)
autism_pubmed_clean
stripped_text
pubmed_data
####### et pour le graph : inspiré de run_twitter_network_igraph.R
autism_pubmed_clean <- pubmed_data %>%
dplyr::select(stripped_text) %>% unnest_tokens(word, stripped_text)
autism_articles_paired_words <- autism_pubmed_clean %>%
dplyr::select(stripped_text) %>%
unnest_tokens(paired_words, stripped_text, token = "ngrams", n = 2)
autism_articles_paired_words <- autism_pubmed_clean %>%
unnest_tokens(paired_words, token = "ngrams", n = 2)
quit()
setwd("~/Documents/Github/TwiMed")
library(dplyr)
library(igraph)
library(qgraph)
input_file <- "../data/pubmed_tdm.Rdata"
output_file <- "../data/pubmed_qgraph.Rdata"
# load the pubmed term document matrix (tdm))
load(input_file)
# transform into dataframe describing connections
matrix_pubmed <- tdm_pubmed %>% as.data.frame.matrix() %>% mutate(name = row.names(.))
# create a igraph object
g <- graph_from_data_frame(matrix_pubmed, directed = FALSE, vertices = NULL)
setwd("~/Documents/Github/TwiMed/src")
input_file <- "../data/pubmed_tdm.Rdata"
output_file <- "../data/pubmed_qgraph.Rdata"
# load the pubmed term document matrix (tdm))
load(input_file)
# transform into dataframe describing connections
matrix_pubmed <- tdm_pubmed %>% as.data.frame.matrix() %>% mutate(name = row.names(.))
library(dplyr)
library(igraph)
library(qgraph)
input_file <- "../data/pubmed_tdm.Rdata"
output_file <- "../data/pubmed_qgraph.Rdata"
# load the pubmed term document matrix (tdm))
load(input_file)
# transform into dataframe describing connections
matrix_pubmed <- tdm_pubmed %>% as.data.frame.matrix() %>% mutate(name = row.names(.))
matrix_pubmed <- tdm_pubmed %>% as.data.frame.matrix()
g <- graph_from_data_frame(matrix_pubmed, directed = FALSE, vertices = NULL)
load(input_file)
g <- graph_from_data_frame(matrix_pubmed, directed = FALSE, vertices = NULL)
g <- graph_from_data_frame(tdm_pubmed, directed = FALSE, vertices = NULL)
tdm_pubmed %>% as.data.frame.matrix()
tdm_pubmed
